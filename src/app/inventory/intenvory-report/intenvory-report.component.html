<div class="feature-header">
  <p>
    <label>Utilize o formulário abaixo para gerar relatório do estoque.</label>
  </p>
  <div class="actions">
    <app-button-back fallbackURL="/inventory"></app-button-back>
  </div>
</div>
<p-card>
  <form (ngSubmit)="submitReport()">
    <div class="p-fluid p-formgrid p-grid">
      <div class="orderForm"></div>
      <div class="orderForm">
        <label class="marginHorizontal">Agrupar por categoria:</label>
        <p-dropdown [options]="categories" name="category" [(ngModel)]="category"></p-dropdown>
      </div>
      <div class="orderForm">
        <button pButton type="submit" label="Agrupar"></button>
      </div>
      <div class="orderForm">
        <button
          pButton
          class="p-button-secondary"
          type="button"
          label="Baixar Relátorio"
          (click)="xlsExport()"
        ></button>
      </div>
    </div>
  </form>
</p-card>

<dgz-table
  #resultsInventoryTable
  [dataProvider]="this"
  name="report-table"
  [showPaginationArea]="false"
  (updateQueryParams)="updateQueryParams($event)"
>
  <thead>
    <tr>
      <th>NCM</th>
      <th>SKU</th>
      <th>Titulo</th>
      <th>Categoria</th>
      <th>Tamanho</th>
      <th>Qnt. Disponivel</th>
      <th>Qnt. Separado</th>
      <th>Qnt. Total</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let inventory of resultsInventoryTable.currentData">
      <td class="centered">{{ inventory.ncm }}</td>
      <td class="centered">{{ inventory.sku }}</td>
      <td class="centered">{{ inventory.titulo }}</td>
      <td class="centered">{{ inventory.categoria }}</td>
      <td class="centered">{{ inventory.tamanho }}</td>
      <td class="centered">{{ inventory.disponivel }}</td>
      <td class="centered">{{ inventory.separado }}</td>
      <td class="centered">{{ inventory.total }}</td>
    </tr>
  </tbody>
</dgz-table>
